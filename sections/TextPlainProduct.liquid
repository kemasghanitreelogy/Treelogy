<div
  id="text-plain-{{ section.id }}"
  class="wrapper text-plain-container"
  style="
    /* ===== PADDING ===== */
    --padding-mobile: {{ section.settings.padding_horizontal }}px;
    --padding-tablet: {{ section.settings.padding_horizontal | times: 1.2 | round }}px;
    --padding-desktop: {{ section.settings.padding_horizontal | times: 1.4 | round }}px;

    /* ===== TITLE ===== */
    --mobile-size-title: {{ section.settings.font_size }}px;
    --tablet-size-title: {{ section.settings.font_size | times: 1.15 | round }}px;
    --desktop-size-title: {{ section.settings.font_size | times: 1.3 | round }}px;

    /* ===== DESCRIPTION ===== */
    --mobile-size-desc: {{ section.settings.font_size_desc }}px;
    --tablet-size-desc: {{ section.settings.font_size_desc | times: 1.1 | round }}px;
    --desktop-size-desc: {{ section.settings.font_size_desc | times: 1.2 | round }}px;

    /* ===== BLOCK TITLE ===== */
    --mobile-size-title-block: {{ section.settings.font_size_title_block }}px;
    --tablet-size-title-block: {{ section.settings.font_size_title_block | times: 1.15 | round }}px;
    --desktop-size-title-block: {{ section.settings.font_size_title_block | times: 1.25 | round }}px;

    /* ===== BLOCK CONTENT ===== */
    --mobile-size-content-block: {{ section.settings.font_size_content_block }}px;
    --tablet-size-content-block: {{ section.settings.font_size_content_block | times: 1.1 | round }}px;
    --desktop-size-content-block: {{ section.settings.font_size_content_block | times: 1.15 | round }}px;

    /* ===== LAYOUT ===== */
    max-width: 1100px;
    margin-left: auto;
    margin-right: auto;
  "
  data-cs-capture>
  <div class="content">
    <div class="inner content-container-text-plain text-align-{{ section.settings.text_alignment }}">
      <div class="title" style="font-weight: {{ section.settings.title_weight }}; color: {{ section.settings.text_title_color }};">
        {% if product.metafields.custom.capsule_award.value %}
          {{ section.settings.title_award }}
        {% else %}
          {{ section.settings.title }}
        {% endif %}
      </div>
      {% if section.settings.block_content != blank %}
        <div class="block-content">
          {% if product.metafields.custom.capsule_award.value %}
            {{ section.settings.block_content_award }}
          {% else %}
            {{ section.settings.block_content }}
          {% endif %}
        </div>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Text Plain Product",
    "tag": "section",
    "class": "section",
    "settings": [
      {
        "type": "richtext",
        "id": "title",
        "label": "Title",
        "default": "<p>Title</p>"
      },
      {
        "type": "richtext",
        "id": "title_award",
        "label": "Title Award",
        "default": "<p>Award Title</p>"
      },
      {
        "type": "select",
        "id": "title_weight",
        "label": "Title Weight",
        "options": [
          {
            "value": "300",
            "label": "Light"
          },
          {
            "value": "400",
            "label": "Regular"
          },
          {
            "value": "500",
            "label": "Medium"
          },
          {
            "value": "600",
            "label": "Semibold"
          }, {
            "value": "700",
            "label": "Bold"
          }, {
            "value": "800",
            "label": "Extrabold"
          }
        ],
        "default": "500"
      },

      {
        "type": "number",
        "id": "font_size",
        "label": "Title Font Size - Mobile (px)",
        "info": "Tablet +15%, Desktop +30%",
        "default": 20
      }, {
        "type": "number",
        "id": "font_size_desc",
        "label": "Description Font Size - Mobile (px)",
        "info": "Tablet +10%, Desktop +20%",
        "default": 14
      }, {
        "type": "richtext",
        "id": "block_content",
        "label": "Content",
        "default": "<p>Your content goes here</p>"
      }, {
        "type": "richtext",
        "id": "block_content_award",
        "label": "Content Award",
        "default": "<p>Your award content goes here</p>"
      }, {
        "type": "select",
        "id": "text_alignment",
        "label": "Text Alignment",
        "options": [
          {
            "value": "left",
            "label": "Left"
          }, {
            "value": "center",
            "label": "Center"
          }, {
            "value": "right",
            "label": "Right"
          }
        ],
        "default": "left"
      }, {
        "type": "select",
        "id": "desktop_layout",
        "label": "Desktop Layout (>768px)",
        "options": [
          {
            "value": "column",
            "label": "Column"
          }, {
            "value": "row",
            "label": "Row"
          }, {
            "value": "row-reverse",
            "label": "Row Reverse"
          }
        ],
        "default": "row"
      }, {
        "type": "header",
        "content": "Spacing"
      }, {
        "type": "range",
        "id": "padding_horizontal",
        "label": "Horizontal Padding - Mobile",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "default": 24
      }, {
        "type": "range",
        "id": "margin_top",
        "label": "Margin Top",
        "min": 0,
        "max": 200,
        "step": 10,
        "unit": "px",
        "default": 0
      }, {
        "type": "range",
        "id": "margin_bottom",
        "label": "Margin Bottom",
        "min": 0,
        "max": 200,
        "step": 10,
        "unit": "px",
        "default": 0
      }, {
        "type": "header",
        "content": "Colors"
      }, {
        "type": "color",
        "id": "text_title_color",
        "label": "Title Color",
        "default": "#000000"
      }, {
        "type": "header",
        "content": "Block Typography"
      }, {
        "type": "number",
        "id": "font_size_title_block",
        "label": "Block Title Font Size - Mobile (px)",
        "info": "Tablet +15%, Desktop +25%",
        "default": 14
      }, {
        "type": "number",
        "id": "font_size_content_block",
        "label": "Block Content Font Size - Mobile (px)",
        "info": "Tablet +10%, Desktop +15%",
        "default": 14
      }
    ],

    "presets": [
      {
        "name": "Text Plain Product"
      }
    ]
  }
{% endschema %}


<style>
  #text-plain-{{ section.id }} {
    /* Mobile margins */
    margin-top: {{ section.settings.margin_top }}px;
    margin-bottom: {{ section.settings.margin_bottom }}px;
  }

  /* Tablet margins */
  @media (min-width: 768px) {
    #text-plain-{{ section.id }} {
      margin-top: {{ section.settings.margin_top | times: 1.3 | round }}px;
      margin-bottom: {{ section.settings.margin_bottom | times: 1.3 | round }}px;
    }
  }

  /* Desktop margins */
  @media (min-width: 1024px) {
    #text-plain-{{ section.id }} {
      margin-top: {{ section.settings.margin_top | times: 1.6 | round }}px;
      margin-bottom: {{ section.settings.margin_bottom | times: 1.6 | round }}px;
    }
  }

</style>

{% stylesheet %}
  .text-plain-container {
    padding: 0 var(--padding-mobile);
  }

  .text-align-left {
    text-align: left;
  }

  .text-align-center {
    text-align: center;
  }

  .text-align-right {
    text-align: right;
  }

  .text-plain-container .title {
    line-height: 1.1;
  }

  /* Mobile font sizes - using CSS variables from inline style */
  .text-plain-container .title p {
    font-size: var(--mobile-size-title);
    margin-bottom: 0;
    line-height: 30px;
  }

  .text-plain-container .description p {
    font-size: var(--mobile-size-desc);
  }

  .text-plain-container .block-title p {
    margin-bottom: 0;
    font-weight: 400;
    font-size: var(--mobile-size-title-block);
  }

  .text-plain-container .block-content {
    line-height: 1.6;
    font-weight: 300;
    font-size: var(--mobile-size-content-block);
  }
  .content-container-text-plain {
      display: flex;
      align-items: center;
      flex-direction: column;
      justify-content: space-between;
      row-gap: 20px;
    }


  /* Tablet breakpoint (768px - 1023px) */
  @media screen and (min-width: 768px) {
    .content-container-text-plain {
      flex-direction: row;
    }
    .text-plain-container {
      padding: 0 var(--padding-tablet);
    }

    .text-plain-container .title {
      width: 40%;
      margin-bottom: 0;
    }
    .content-container-text-plain .text-blocks {
      text-align: left;
      width: 50%;
    }

    .text-plain-container .title p {
      font-size: var(--tablet-size-title);
    }

    .text-plain-container .description p {
      font-size: var(--tablet-size-desc);
    }

    .text-plain-container .block-title p {
      font-size: var(--tablet-size-title-block);
    }

    .text-plain-container .block-content {
      font-size: var(--tablet-size-content-block);
    }
  }

  /* Desktop breakpoint (1024px+) */
  @media screen and (min-width: 1024px) {
    .text-plain-container {
      padding: 0 var(--padding-desktop);
    }

    .text-plain-container .title p {
      font-size: var(--desktop-size-title);
    }

    .text-plain-container .description p {
      font-size: var(--desktop-size-desc);
    }

    .text-plain-container .block-title p {
      font-size: var(--desktop-size-title-block);
    }

    .text-plain-container .block-content {
      font-size: var(--desktop-size-content-block);
    }
  }
{% endstylesheet %}

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const section = document.querySelector('#text-plain-{{ section.id }}');
    if (section) {
      const titles = section.querySelectorAll('.title');
      
      titles.forEach(function(element) {
        let html = element.innerHTML;
        html = html.replace(/\.\s+/g, '.\n');
        element.innerHTML = html;
      });
    }
  });
</script>